---
phase: 01-electron-foundation
plan: 02
type: execute
wave: 1
depends_on: [01-01]
files_modified: [electron.vite.config.ts, tsconfig.json]
autonomous: true
user_setup: []

must_haves:
  truths:
    - "electron-vite configured with TypeScript"
    - "Main process entry point configured"
    - "Preload script entry point configured"
    - "No renderer config (Next.js handles that)"
  artifacts:
    - path: "electron.vite.config.ts"
      provides: "electron-vite configuration"
      min_lines: 20
      contains: ["defineConfig", "main:", "preload:"]
    - path: "tsconfig.json"
      provides: "TypeScript configuration for Electron"
      contains: ["electron.vite.config.ts"]
  key_links:
    - from: "electron.vite.config.ts"
      to: "electron/main/index.ts"
      via: "main build rollupOptions input"
      pattern: "resolve\\(.*'electron/main/index\\.ts'"
    - from: "electron.vite.config.ts"
      to: "electron/preload/index.ts"
      via: "preload build rollupOptions input"
      pattern: "resolve\\(.*'electron/preload/index\\.ts'"
---

<objective>
Configure electron-vite for TypeScript-based Electron main and preload processes.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-electron-foundation/01-ELECTRON-VITE-RESEARCH.md
@.planning/phases/01-electron-foundation/01-01-SUMMARY.md
@package.json
</context>

<tasks>

<task type="auto">
  <name>Create electron-vite configuration</name>
  <files>electron.vite.config.ts</files>
  <action>
    Create electron.vite.config.ts with:
    - Import defineConfig and resolve from 'electron-vite' and 'path'
    - Export default defineConfig with:
      * main config:
        - build.rollupOptions.input.index: resolve(__dirname, 'electron/main/index.ts')
      * preload config:
        - build.rollupOptions.input.index: resolve(__dirname, 'electron/preload/index.ts')
      - NO renderer config (Next.js handles renderer separately)

    Use TypeScript syntax (.ts file).
    Follow RESEARCH.md "Pattern 1: electron-vite Configuration"
  </action>
  <verify>electron.vite.config.ts exists with main and preload configurations, no renderer config</verify>
  <done>electron-vite configured for TypeScript main and preload processes</done>
</task>

<task type="auto">
  <name>Configure TypeScript for Electron</name>
  <files>tsconfig.json</files>
  <action>
    Update tsconfig.json to include electron-vite config:
    - Add "electron.vite.config.ts" to include array if it exists
    - Ensure compilerOptions allow:
      * "module": "ESNext" or preserve (electron-vite handles this)
      * "moduleResolution": "node"
      * "esModuleInterop": true
      * "skipLibCheck": true
    - electron-vite handles most TypeScript configuration automatically

    If tsconfig.json doesn't exist, create minimal version for Electron.
  </action>
  <verify>tsconfig.json exists or updated with Electron-friendly settings</verify>
  <done>TypeScript configured for electron-vite compatibility</done>
</task>

</tasks>

<verification>
- electron-vite config references TypeScript entry points
- Main process entry: electron/main/index.ts
- Preload entry: electron/preload/index.ts
- No renderer config (Next.js handles that)
- TypeScript configured for Electron compatibility
</verification>

<success_criteria>
electron-vite configured with TypeScript for main and preload processes, ready for development.
</success_criteria>

<output>
After completion, create `.planning/phases/01-electron-foundation/01-02-SUMMARY.md`
</output>
